# Java 八股文（命中率 100%）

## 一、Java 基础

### 1、Java 集合

Java 中的集合总体上分为两大派系，分别是 Collection 接口代表的单列集合，和 Map 接口代表的双列集合。

其中 Collection 接口下又衍生出了 List 接口代表的有序、可重复的集合，和 Set 接口代表的无序、不可重复的集合。

然后常用的实现类有 List 接口下的 ArrayList、LinkedList 和 Set 接口下的 HashSet、TreeSet，还有 Map 接口下的 HashMap、TreeMap 等等。

### 2、ArrayList 和 LinkedList 的区别

首先它们的底层数据结构不同，ArrayList 底层是数组实现的，而 LinkedList 底层是双向链表实现的。

也正是由于它们的底层数据结构不同，导致它们的应用场景也不同，像 ArrayList 它的随机访问性能比较高，就适合做查询操作，而 LinkedList 它在任意位置的插入和删除的效率比较高，就适合做频繁的插入和删除操作。

### 3、ArrayList 的扩容机制

ArrayList 内部通过一个数组存储元素，当我们采用空参构造初始化一个 ArrayList 时，这个数组默认是空的，当第一次添加元素时会扩容到 10，所以我们也经常说 ArrayList 的默认初始容量是 10。

后续添加元素时，都会先判断当前数组容量是否足够，如果不够，就会发生扩容，扩容的规则是计算一个新的容量，等于原来容量的 1.5 倍，如果新容量还不够，比如我们一次添加了多个元素，那就需要多少扩容多少。然后根据新容量创建一个新数组，并把原来数组中的元素拷贝过去。

### 4、HashMap 底层的数据结构

HashMap 的底层在 JDK8 之前是数组 + 链表实现的，也就是通过拉链法解决哈希冲突。然后在 JDK8 之后改成了数组 + 链表 + 红黑树，来解决由于链表过长导致的查询效率降低的问题。

数组的默认初始大小为 16，默认加载因子为 0.75，当链表长度超过阈值（默认为 8）且数组长度大于等于 64 时，链表就会转为红黑树。

### 5、HashMap 和 HashTable 的区别

首先，HashMap 不是线程安全的，而 HashTable 是线程安全的，因为它的相关方法都加了 synchronized 对象锁。

其次，HashMap 是允许键和值为 null 的，而 HashTable 不允许。